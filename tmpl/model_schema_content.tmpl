// hey-template version: {{{.Version}}}

package model

// {{{.OriginNamePascal}}} | {{{.OriginName}}} {{{if ne .Comment ""}}}| {{{.Comment}}}{{{end}}}
type {{{.OriginNamePascal}}} struct {
{{{range $k, $v := .StructColumn}}}{{{$v}}}{{{end}}}
}

func (s *{{{.OriginNamePascal}}}) COPY() *{{{.OriginNamePascal}}} {
	tmp := *s
	return &tmp
}

func (s *{{{.OriginNamePascal}}}) COMPARE(c *{{{.OriginNamePascal}}}) map[string]interface{} {
	tmp := make(map[string]interface{}){{{.StructColumnUpdate}}}
	if len(tmp) == 0 {
        return nil
    }
	return tmp
}

type Hey{{{.OriginNamePascal}}} struct {
{{{range $k, $v := .StructColumnHey}}}{{{$v}}}{{{end}}}
    fieldMap map[string]struct{}
    fieldSlice []string
}

func (s *Hey{{{.OriginNamePascal}}}) Table() string {
	return "{{{.OriginNameWithPrefix}}}" {{{if ne .Comment ""}}}// {{{.Comment}}}{{{end}}}
}

func (s *Hey{{{.OriginNamePascal}}}) Field() []string {
	result := make([]string, len(s.fieldSlice))
	copy(result, s.fieldSlice)
	return result
}

func (s *Hey{{{.OriginNamePascal}}}) FieldMap() map[string]struct{} {
	result := make(map[string]struct{}, len(s.fieldMap))
	for k, v := range s.fieldMap {
		result[k] = v
	}
	return result
}

func (s *Hey{{{.OriginNamePascal}}}) FieldStr() string {
	return {{{.StructColumnHeyFieldSliceValue}}}
}

func (s *Hey{{{.OriginNamePascal}}}) FieldExist(field string) (exist bool) {
	_, exist = s.fieldMap[field]
	return
}

func (s *Hey{{{.OriginNamePascal}}}) FieldAutoIncr() []string {
	return {{{.ColumnAutoIncr}}}
}

func (s *Hey{{{.OriginNamePascal}}}) FieldCreatedAt() []string {
	return {{{.ColumnCreatedAt}}}
}

func (s *Hey{{{.OriginNamePascal}}}) FieldUpdatedAt() []string {
	return {{{.ColumnUpdatedAt}}}
}

func (s *Hey{{{.OriginNamePascal}}}) FieldDeletedAt() []string {
	return {{{.ColumnDeletedAt}}}
}

func New{{{.OriginNamePascal}}}() *Hey{{{.OriginNamePascal}}} {
	s := &Hey{{{.OriginNamePascal}}}{
{{{range $k, $v := .StructColumnHeyValues}}}{{{$v}}}{{{end}}}
	}
	s.fieldMap = {{{.StructColumnHeyValuesAccessMap}}}
	s.fieldSlice = {{{.StructColumnHeyValuesAccess}}}
	return s
}

type Add{{{.OriginNamePascal}}} struct {
{{{range $k, $v := .StructColumnAdd}}}{{{$v}}}{{{end}}}
}

type Mod{{{.OriginNamePascal}}} struct {
{{{range $k, $v := .StructColumnMod}}}{{{$v}}}{{{end}}}
}
